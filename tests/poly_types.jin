use .inner

fn extern "c" printf(fmt: *u8, ..) -> i32

type Box[T](value: T)

fn main() = {
	print(&Box(1).value) # matches print(int) 
	print(&Box(3.0).value) # matches print(f32) 
	print(&Box(42)) # matches print(&Box[int])
	print(&Box(6.9)) # matches print(&Box[T])
	print(&Box[int](5)) # matches print(&Box[int]) 
	print(&inner.Inner[int](30)) # matches print(&inner.Inner[int])
}

fn print(value: int) = {
	unsafe printf("%d\n".data, value)
}

fn print(value: f32) = {
	unsafe printf("%f\n".data, value)
}

fn print(box: &Box[int]) = {
	unsafe printf("Box(%d)\n".data, box.value)
}

fn print[T](box: &Box[T]) = {
	unsafe printf("Box(%f)\n".data, &box.value)
}

fn print(inner: &inner.Inner[int]) = {
	unsafe printf("Inner(%d)\n".data, inner.value)
}
