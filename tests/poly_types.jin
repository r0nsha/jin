use .inner

fn extern "c" printf(fmt: ptr[U8], ..) -> I32

type Box[T](value: T)

fn main() = {
	print(&Box(1).value) # matches print(int) 
	print(&Box(3.0).value) # matches print(F32) 
	print(&Box(42)) # matches print(&Box[Int])
	print(&Box(6.9)) # matches print(&Box[T])
	print(&Box[Int](5)) # matches print(&Box[Int]) 
	print(&inner.Inner[Int](30)) # matches print(&inner.Inner[Int])
}

fn print(value: Int) = {
	unsafe printf("%d\n".data, value)
}

fn print(value: F32) = {
	unsafe printf("%f\n".data, value)
}

fn print(box: &Box[Int]) = {
	unsafe printf("Box(%d)\n".data, box.value)
}

fn print[T](box: &Box[T]) = {
	unsafe printf("Box(%f)\n".data, &box.value)
}

fn print(inner: &inner.Inner[Int]) = {
	unsafe printf("Inner(%d)\n".data, inner.value)
}
