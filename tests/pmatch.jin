fn extern printf(fmt: *u8, ..) i32

fn main() unit = {
	match_vars()
	match_unit()
	match_bool(true)
	match_bool(false)

	match_int(42)
	match_int(-3)
	match_int(69)

	match_uint(42)
	match_uint(3)
	match_uint(69)
}

fn match_vars() unit = {
	match true {
		mut x -> {
			x = false
			printf("x = %d\n".ptr, x)
			{}
		},
		_ -> {
			// ignored...
		},
	}
}


fn match_unit() unit = {
	match {} {
		{} -> printf("matched unit!\n".ptr),
		_ -> 1, // This branch is unreachable
	}
}

fn match_bool(value: bool) unit = {
	printf("value = %s\n".ptr, match value {
		true -> "true",
		false -> "false",
		x -> "unreachable..."
	})
}

fn match_int(value: int) unit = {
	match value {
		42 -> printf("i'm the answer\n".ptr),
		-3 -> printf("i'm -3\n".ptr),
		x -> printf("value is %d\n".ptr, x),
	}
}

fn match_uint(value: uint) unit = {
	match value {
		42 -> printf("i'm still the answer\n".ptr),
		3 -> printf("i'm still 3\n".ptr),
		x -> printf("and value is %d\n".ptr, x),
	}
}
