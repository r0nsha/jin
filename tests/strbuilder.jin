fn extern "c" printf(fmt: *u8, ..) -> i32

fn main() = {
	let mut b = StrBuilder.new()
	print_str(&b)

	b.push("Hello")
	print_str(&b)

	b.push(" ")
	print_str(&b)

	b.push("World")
	print_str(&b)

	b.clear()
	print_str(&b)

	b.push('👍')
	print_str(&b)
	b.push(' ')
	print_str(&b)
	b.push('👍')
	print_str(&b)

	let s = b.as_ref()
	let mut i = 0
	for if i < s.len {
		unsafe printf("%x ".data, s.[i])
		i += 1
	}
}

fn print_str(b: &StrBuilder) =
	unsafe printf("str is: '%s'\n".data, b.as_ref().data)
